package info.nukoneko.android.qritter.util;import android.app.Activity;import android.content.Context;import android.os.AsyncTask;/** * Created by TEJNEK on 2016/03/17. */public class SimpleAsync<T> {    // TODO: ライフサイクル的に危ない...    private final Activity context;    public SimpleAsync(Activity context){        this.context = context;    }    public Activity getContext() {        return context;    }    public interface AsyncListener<T> {        T doTask();        void onResult(Activity context, T result);    }    public void start(final AsyncListener<T> listener){        new AsyncTask<Void, Void, T>() {            @Override            protected T doInBackground(Void... params) {                return listener.doTask();            }            @Override            protected void onPostExecute(T t) {                super.onPostExecute(t);                final T ret = t;                context.runOnUiThread(new Runnable() {                    @Override                    public void run() {                        listener.onResult(context, ret);                    }                });            }        }.execute();    }}